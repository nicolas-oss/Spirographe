using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Calculs_RayonsBackup : MonoBehaviour
{
    public GameObject DisquePrincipal,DisqueSecondaire,Rayon_1,Rayon_2,AxeRotation1,AxeRotation2;
	public float RayonDisque2 = 4f;
	float RayonPrincipal = 10f;
	public float RayonMaximal = 10f;
	public float HauteurDisque = 0.1f;
	public float DureeAnimation = 8.0f;
	Vector3 ScaleDisque1,ScaleDisque2,PosRayon1,PosRayon2;
	Animator AnimatorAxe1,AnimatorAxe2;
	
	// Start is called before the first frame update
    void Start()
    {
        AnimatorAxe1 = AxeRotation1.GetComponent<Animator>();
		AnimatorAxe2 = AxeRotation2.GetComponent<Animator>();

    }

    // Update is called once per frame
    void Update()
    {
      //Calcul et affectation Rayon Principal
	  RayonPrincipal=RayonMaximal-RayonDisque2;
	  PosRayon1= new Vector3(RayonPrincipal,1.0f,1.0f);
	  Rayon_1.transform.localPosition = PosRayon1;
	  
	  //Calcul et affectation Taille disque principal
	  ScaleDisque1 = new Vector3(RayonMaximal*2,HauteurDisque,RayonMaximal*2);
	  DisquePrincipal.transform.localScale = ScaleDisque1;
	
	  //Calcul et affectation Rayon secondaire
	  PosRayon2= new Vector3(RayonDisque2,1.0f,1.0f);
	  Rayon_2.transform.localPosition = PosRayon2;
	  
	  //Calcul et affectation Taille disque secondaire
	  ScaleDisque2 = new Vector3(RayonDisque2*2,HauteurDisque,RayonDisque2*2);
	  DisqueSecondaire.transform.localScale = ScaleDisque2;
	  
	  //Calcul durée anims
	  AnimatorAxe1.SetFloat("DureeRotationPrincipale",1.0f/DureeAnimation);
	  AnimatorAxe2.SetFloat("DureeRotationSecondaire",-1.0f/(DureeAnimation*RayonDisque2/RayonMaximal));
	
    }
}
